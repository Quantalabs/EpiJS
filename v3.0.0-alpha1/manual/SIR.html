<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating a SIR Model in EpiJS | Manual | EpiJS</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="https://i.ibb.co/HKt7Bn3/Logo-Makr-4sk-LGO.png">
    <meta name="description" content="A disease modeling package for JS.">
    
    <link rel="preload" href="/v3.0.0-alpha1/assets/css/0.styles.646c1f76.css" as="style"><link rel="preload" href="/v3.0.0-alpha1/assets/js/app.f2620d17.js" as="script"><link rel="preload" href="/v3.0.0-alpha1/assets/js/2.16ef5ac8.js" as="script"><link rel="preload" href="/v3.0.0-alpha1/assets/js/3.dd05edd6.js" as="script"><link rel="preload" href="/v3.0.0-alpha1/assets/js/18.f730ed95.js" as="script"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/10.55f5b44d.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/11.4aa514ab.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/12.7e93e09e.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/13.7b5730e8.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/14.bac32615.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/15.c8357738.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/16.fd3dbf41.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/17.49919987.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/19.f904677e.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/20.aff20799.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/21.d2a6acfa.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/22.82e66f22.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/23.41ce33a8.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/4.5a2fd0ff.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/5.038e48dc.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/6.6c8de7bf.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/7.7a91faff.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/8.e4b95598.js"><link rel="prefetch" href="/v3.0.0-alpha1/assets/js/9.94fd11c9.js">
    <link rel="stylesheet" href="/v3.0.0-alpha1/assets/css/0.styles.646c1f76.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="navbar-container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v3.0.0-alpha1/" class="home-link router-link-active"><img src="https://i.ibb.co/HKt7Bn3/Logo-Makr-4sk-LGO.png" alt="EpiJS" class="logo"> <span class="site-name can-hide">EpiJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" placeholder="Search" autocomplete="off" spellcheck="false" value=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="search-icon"><path d="M21.7,20.3L18,16.6c1.2-1.5,2-3.5,2-5.6c0-5-4-9-9-9c-5,0-9,4-9,9c0,5,4,9,9,9c2.1,0,4.1-0.7,5.6-2l3.7,3.7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3C22.1,21.3,22.1,20.7,21.7,20.3zM4,11c0-3.9,3.1-7,7-7c3.9,0,7,3.1,7,7c0,1.9-0.8,3.7-2,4.9c0,0,0,0,0,0s0,0,0,0c-1.3,1.3-3,2-4.9,2C7.1,18,4,14.9,4,11z"></path></svg> <span class="search-command-wrapper search-command"><span class="search-command-char">⌘</span> <span class="search-command-char">K</span></span> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v3.0.0-alpha1/getting-started.html" class="vp-link nav-link">
  Documentation
  </a></div><div class="nav-item"><a href="https://epi.js.org/demo/index.html" target="_blank" class="vp-link external nav-link">
  Demo
  <!----> </a></div><div class="nav-item"><a href="https://github.com/epispot/EpiJS" target="_blank" class="vp-link external nav-link">
  GitHub
  <!----> </a></div> <div class="VPNavBarAppearance appearance" data-v-19d27b0e><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-19d27b0e><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <!----></nav></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v3.0.0-alpha1/getting-started.html" class="vp-link nav-link">
  Documentation
  </a></div><div class="nav-item"><a href="https://epi.js.org/demo/index.html" target="_blank" class="vp-link external nav-link">
  Demo
  <!----> </a></div><div class="nav-item"><a href="https://github.com/epispot/EpiJS" target="_blank" class="vp-link external nav-link">
  GitHub
  <!----> </a></div> <div class="VPNavBarAppearance appearance" data-v-19d27b0e><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-19d27b0e><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="arrow-icon"><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Module Docs</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="arrow-icon"><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>The EpiJS Manual</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="arrow-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v3.0.0-alpha1/manual/SIR.html" aria-current="page" class="active sidebar-link">SIR Models</a></li><li><a href="/v3.0.0-alpha1/manual/migration.html" class="sidebar-link">Migration</a></li></ul></section></li></ul> </aside> <main class="page manualSIR.html"> <div class="theme-default-content vp-doc content__default"><h1 id="creating-a-sir-model-in-epijs"><a href="#creating-a-sir-model-in-epijs" class="header-anchor">#</a> Creating a SIR Model in EpiJS</h1> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of Contents</h2> <p></p><div class="table-of-contents"><ul><li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#the-base">The Base</a></li><li><a href="#approach-no-1-custom-models">Approach No. 1 - Custom Models</a></li><li><a href="#approach-no-2-pre-compiled-models">Approach No. 2 - Pre-Compiled Models</a></li><li><a href="#approach-no-3-pre-compiled-models-with-community-modelling">Approach No. 3 - Pre-Compiled Models with Community Modelling</a></li></ul></div><p></p> <h2 id="the-base"><a href="#the-base" class="header-anchor">#</a> The Base</h2> <p>There are several ways to create an SIR model, and we're going to go through all of them. But first, we need to cover what the SIR model is. The SIR model is made up of several compartments:</p> <ul><li><strong>S</strong>usceptible</li> <li><strong>I</strong>nfected</li> <li><strong>R</strong>ecovered/removed</li></ul> <p>For now, we'll treat the last compartment as removed and not recovered, to better represent an outbreak. To model the outbreak, we need to introduce some more parameters:</p> <ul><li>β - The infection rate</li> <li>γ - The recovery rate</li> <li>R<sub>0</sub> or R-Naught - The number of people one infected infects
​</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You don't need to know the infection rate when modelling. You can easily calculate it by taking R-Naught and multiplying it with the recovery rate. Because of this, we only need to know 2 of the 3 compartments, since you can find the other by finding the product or quotient of the other two numbers.</p></div> <p>Additionally, we have N, the total population, which we can quickly define as the sum of the three populations.</p> <p>With these definitions, we can start to create equations for each compartment:</p> <div align="center"><img src="https://i.ibb.co/5837sMf/image.png" alt="Equations for the SIR Model"></div> <p>And now that we know our equations, we can start to create the models in code.</p> <h2 id="approach-no-1-custom-models"><a href="#approach-no-1-custom-models" class="header-anchor">#</a> Approach No. 1 - Custom Models</h2> <p>Our first aproach is the most extensible. This allows us to easily add compartments beyond the S, I, and R. Let's start with the setup:</p> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="first-tab" role="tabpanel" class="tabs-component-panel" style="display:none;"><div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/gh/epispot/EpiJS/web/index.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></section> <section aria-hidden="true" id="second-tab" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>Install:</p> <div class="language-SH extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> @epispot/epijs
</code></pre></div><p>Require:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> model<span class="token punctuation">,</span> comp <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@epispot/epijs'</span><span class="token punctuation">)</span>

<span class="token comment">// Import the required classes into the program</span>
<span class="token keyword">const</span> Model <span class="token operator">=</span> model<span class="token punctuation">.</span>Model
<span class="token keyword">const</span> Idiom <span class="token operator">=</span> comp<span class="token punctuation">.</span>Idiom
</code></pre></div></section></div></div> <p>Now that we have everything set up, we can define each of our compartments and create the model</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// Include configuration from above</span>
<span class="token keyword">let</span> susceptible <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Idiom</span><span class="token punctuation">(</span><span class="token string">&quot;S-(B*S*I/p)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> infected <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Idiom</span><span class="token punctuation">(</span><span class="token string">&quot;I+(B*S*I/p)-(u*I)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> recovered <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Idiom</span><span class="token punctuation">(</span><span class="token string">&quot;R+(u*I)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> key <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token string-property property">&quot;S&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;B&quot;</span><span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;I&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;R&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token number">10100</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;u&quot;</span><span class="token operator">:</span> <span class="token number">0.2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> sir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>susceptible<span class="token punctuation">,</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>infected<span class="token punctuation">,</span> <span class="token string">&quot;I&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>recovered<span class="token punctuation">,</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
</code></pre></div><p>Let's go through this code. The first few lines define compartments with the <code>Idiom</code> class, which allows you to create compartments with equations. The next section defines the starting values for the variables in the equation. We define the start susceptible population as 10000, the infected population as 100, and the recovered populaton as 0. We then also define p, which is our total population. The other parameters are:</p> <ul><li><code>B</code> - Infection rate</li> <li><code>u</code> - The recovery rate</li></ul> <p>Finally we define our model with the Model class, where we first pass in a list with sublists, where we define the compartment and their corresponding values in the key, and then the key itself.</p> <p>We can now test the SIR model like so:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sir<span class="token punctuation">.</span><span class="token function">get_data</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Get's data for the 100th day</span>
</code></pre></div><p>This will return something like:</p> <div class="language-JSON extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;S&quot;</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
    <span class="token property">&quot;I&quot;</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
    <span class="token property">&quot;R&quot;</span><span class="token operator">:</span> data
<span class="token punctuation">}</span>
</code></pre></div><h2 id="approach-no-2-pre-compiled-models"><a href="#approach-no-2-pre-compiled-models" class="header-anchor">#</a> Approach No. 2 - Pre-Compiled Models</h2> <p>This step is the easiest of them all, as you don't really have to write that much code, most of the work is done for you.</p> <p>Let's start by setting up your program:</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SIR-Model<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/gh/epispot/EpiJS/web/index.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/** All Code Snippets Go Here */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Now, we can use the one line of code:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">sir</span><span class="token punctuation">(</span>rn<span class="token punctuation">,</span> s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> time<span class="token punctuation">,</span> u<span class="token punctuation">,</span> p<span class="token punctuation">,</span> stochastic<span class="token punctuation">)</span>
</code></pre></div><p>Where:</p> <ul><li><code>c</code> is the canvas element,</li> <li><code>rn</code> is R-Naught,</li> <li><code>s</code> is the susceptible population,</li> <li><code>i</code> is the infected population,</li> <li><code>time</code> is the time to model for,</li> <li><code>u</code> is the recovery rate,</li> <li><code>p</code> is the total population,</li> <li>and <code>stochastic</code> is whether or not our model is stochastic</li></ul> <p>So let's create our model:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sirdata <span class="token operator">=</span> <span class="token function">sir</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">10100</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><p>Now, we can plot it with the plots module:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">plot</span><span class="token punctuation">(</span>sirdata<span class="token punctuation">,</span> <span class="token string">&quot;SIR-Model&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="approach-no-3-pre-compiled-models-with-community-modelling"><a href="#approach-no-3-pre-compiled-models-with-community-modelling" class="header-anchor">#</a> Approach No. 3 - Pre-Compiled Models with Community Modelling</h2> <p>EpiJS also has a <code>com</code> module, which allows for community modelling with pre-built or custom models. We're going to use the pre-build models for today, however you can read the docs for the modue for detailed instructions on custom models, which are useful if you want to use compartments from the <code>comp</code> module in the <code>com</code> module. First, however, let's set up our program:</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>our-model<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/gh/epispot/EpiJS/web/index.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/** All Code Snippets Go Here */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>First, we need to create our community, and our virus:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> covid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Virus</span><span class="token punctuation">(</span><span class="token number">5.7</span><span class="token punctuation">,</span> <span class="token number">2.1</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> NewYorkCity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Community</span><span class="token punctuation">(</span><span class="token number">8419000</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">8418700</span><span class="token punctuation">)</span>
</code></pre></div><p>Let's go through this. When we define the virus, we pass in two parameters:</p> <ul><li>R-naught - 5.7</li> <li>Recovery rate - 2.1/100</li></ul> <p>Next, for the community, we pass in three:</p> <ul><li>Population - 8.419 million</li> <li>Infected population at the beggining of the outbreak - 300</li> <li>Total population - 8.4187 million</li></ul> <p>We now use an SIR model:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> NewYorkCity<span class="token punctuation">.</span><span class="token function">sir</span><span class="token punctuation">(</span>covid<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre></div><p>You'll get a console output of data from these compartments.</p> <p>However, if you wanted to compare two compartments, you could also do that:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> NewYorkCity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Community</span><span class="token punctuation">(</span><span class="token number">8419000</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">8418700</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> covid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Virus</span><span class="token punctuation">(</span><span class="token number">5.7</span><span class="token punctuation">,</span> <span class="token number">2.1</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> covid_variant <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Virus</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> chart <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'our-model'</span><span class="token punctuation">)</span>

covid_outbreak <span class="token operator">=</span> NewYorkCity<span class="token punctuation">.</span><span class="token function">sir</span><span class="token punctuation">(</span>covid<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
variant_outbreak <span class="token operator">=</span> NewYorkCity<span class="token punctuation">.</span><span class="token function">sir</span><span class="token punctuation">(</span>covid_variant<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token function">compare</span><span class="token punctuation">(</span>chart<span class="token punctuation">,</span> covid_outbreak<span class="token punctuation">,</span> variant_outbreak<span class="token punctuation">,</span> <span class="token string">&quot;COVID-19&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;COVID-19 Variant&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code></pre></div><p>and we get:
<img src="https://i.ibb.co/LRMLNBL/image.png" alt="Output of the compare function"></p> <p>​</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can compare anything, as long as they are an output of the com module. You can compare two outbreaks of the same community with different viruses, or different communities with the same virus, or even two different communities with two different viruses!</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><div class="inner"><a href="/v3.0.0-alpha1/plots.html" class="vp-link prev"><span>←</span>
  Plots Module
  <span><br> <span class="prev-link">/plots.html</span></span></a> <a href="/v3.0.0-alpha1/manual/migration.html" class="vp-link next">
  Migration
  <span>
        →
        <br> <span class="next-link">/manual/migration.html</span></span></a></div></div> </main> <div class="sticker vuepress-toc"><div class="on-this-page">ON THIS PAGE</div> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#table-of-contents" title="Table of Contents">Table of Contents</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#the-base" title="The Base">The Base</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#approach-no-1-custom-models" title="Approach No. 1 - Custom Models">Approach No. 1 - Custom Models</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#approach-no-2-pre-compiled-models" title="Approach No. 2 - Pre-Compiled Models">Approach No. 2 - Pre-Compiled Models</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#approach-no-3-pre-compiled-models-with-community-modelling" title="Approach No. 3 - Pre-Compiled Models with Community Modelling">Approach No. 3 - Pre-Compiled Models with Community Modelling</a></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/v3.0.0-alpha1/assets/js/app.f2620d17.js" defer></script><script src="/v3.0.0-alpha1/assets/js/2.16ef5ac8.js" defer></script><script src="/v3.0.0-alpha1/assets/js/3.dd05edd6.js" defer></script><script src="/v3.0.0-alpha1/assets/js/18.f730ed95.js" defer></script>
  </body>
</html>
